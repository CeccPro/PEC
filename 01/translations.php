<?php
/**
 * Sistema de traducción multiidioma
 * Contiene diccionario español/inglés
 */

$translations = [
    'es' => [
        // Navegación
        'nav_home' => 'Inicio',
        'nav_about' => 'Sobre Reforestación',
        'nav_disciplines' => 'Disciplinas',
        'nav_cbta_project' => 'Proyecto CBTA 35',
        'nav_calculator' => 'Calculadora',
        'nav_login' => 'Iniciar Sesión',
        'nav_register' => 'Registrarse',
        'nav_logout' => 'Cerrar Sesión',
        'nav_language' => 'Idioma',
        
        // Página principal
        'hero_title' => 'Proyecto de Reforestación',
        'hero_subtitle' => 'Un enfoque multidisciplinario para la restauración ecológica',
        'hero_description' => 'La reforestación representa una estrategia fundamental para abordar crisis ambientales críticas del siglo XXI, incluyendo cambio climático, pérdida de biodiversidad y degradación de servicios ecosistémicos.',
        'welcome_message' => 'Bienvenido',
        
        // Secciones principales
        'what_is_reforestation' => '¿Qué es la Reforestación?',
        'reforestation_definition' => 'La reforestación se define como el restablecimiento de bosques en áreas que previamente estuvieron cubiertas por vegetación forestal, mediante plantación, siembra o regeneración natural asistida.',
        'importance_title' => 'Importancia de la Reforestación',
        'importance_text' => 'Los bosques cubren aproximadamente 31% de la superficie terrestre global y almacenan cerca de 861 ± 66 Pg de carbono, siendo cruciales para la regulación climática global.',
        
        // Disciplinas
        'disciplines_title' => 'Disciplinas Relacionadas con la Reforestación',
        'mathematics_title' => 'Matemáticas',
        'mathematics_desc' => 'Cálculos de densidad de plantación, estimaciones de carbono y modelos de crecimiento',
        'humanities_title' => 'Humanidades',
        'humanities_desc' => 'Participación comunitaria, conocimiento tradicional y aspectos culturales',
        'programming_title' => 'Programación',
        'programming_desc' => 'Sistemas de información geográfica y bases de datos para monitoreo',
        'ecosystems_title' => 'Estudio de Ecosistemas',
        'ecosystems_desc' => 'Sucesión ecológica, biodiversidad y servicios ecosistémicos',
        'language_title' => 'Lengua y Comunicación',
        'language_desc' => 'Documentación científica, comunicación con comunidades y educación ambiental',
        
        // CBTA 35
        'cbta_title' => 'Proyecto de Reforestación CBTA 35',
        'cbta_intro' => 'Plan paso a paso para reforestar una área del terreno del Centro de Bachillerato Tecnológico Agropecuario N° 35',
        
        // Calculadora
        'calculator_title' => 'Calculadora de Reforestación',
        'calculator_subtitle' => 'Calcula cuántos árboles necesitas y su eficiencia',
        'calc_area' => 'Área a reforestar',
        'calc_area_unit' => 'hectáreas',
        'calc_tree_type' => 'Tipo de árbol',
        'calc_soil_type' => 'Tipo de suelo',
        'calc_button' => 'Calcular',
        'calc_results' => 'Resultados',
        'calc_tree_count' => 'Número de árboles',
        'calc_spacing' => 'Espaciamiento recomendado',
        'calc_efficiency' => 'Eficiencia en este suelo',
        'calc_carbon' => 'Captura de carbono estimada',
        'calc_carbon_unit' => 'toneladas CO₂/año',
        
        // Tipos de árboles
        'tree_pine' => 'Pino',
        'tree_oak' => 'Encino',
        'tree_cedar' => 'Cedro',
        'tree_mesquite' => 'Mezquite',
        'tree_ahuehuete' => 'Ahuehuete',
        
        // Tipos de suelo
        'soil_clay' => 'Arcilloso',
        'soil_sandy' => 'Arenoso',
        'soil_loamy' => 'Franco',
        'soil_rocky' => 'Pedregoso',
        'soil_humid' => 'Húmedo',
        
        // Autenticación
        'login_title' => 'Iniciar Sesión',
        'register_title' => 'Crear Cuenta',
        'username' => 'Usuario',
        'password' => 'Contraseña',
        'confirm_password' => 'Confirmar Contraseña',
        'email' => 'Correo Electrónico',
        'full_name' => 'Nombre Completo',
        'login_button' => 'Entrar',
        'register_button' => 'Registrarse',
        'have_account' => '¿Ya tienes cuenta?',
        'no_account' => '¿No tienes cuenta?',
        'login_here' => 'Inicia sesión aquí',
        'register_here' => 'Regístrate aquí',
        
        // Mensajes
        'login_success' => 'Sesión iniciada correctamente',
        'login_error' => 'Usuario o contraseña incorrectos',
        'register_success' => 'Cuenta creada exitosamente',
        'register_error' => 'Error al crear la cuenta',
        'password_mismatch' => 'Las contraseñas no coinciden',
        'user_exists' => 'El usuario ya existe',
        'logout_success' => 'Sesión cerrada correctamente',
        
        // Footer
        'footer_text' => 'Proyecto Escolar de Reforestación',
        'footer_year' => '2025',
        
        // Otros
        'read_more' => 'Leer más',
        'back' => 'Volver',
        'submit' => 'Enviar',
        'cancel' => 'Cancelar',
    ],
    
    'en' => [
        // Navigation
        'nav_home' => 'Home',
        'nav_about' => 'About Reforestation',
        'nav_disciplines' => 'Disciplines',
        'nav_cbta_project' => 'CBTA 35 Project',
        'nav_calculator' => 'Calculator',
        'nav_login' => 'Login',
        'nav_register' => 'Register',
        'nav_logout' => 'Logout',
        'nav_language' => 'Language',
        
        // Main page
        'hero_title' => 'Reforestation Project',
        'hero_subtitle' => 'A multidisciplinary approach to ecological restoration',
        'hero_description' => 'Reforestation represents a fundamental strategy to address critical environmental crises of the 21st century, including climate change, biodiversity loss, and degradation of ecosystem services.',
        'welcome_message' => 'Welcome',
        
        // Main sections
        'what_is_reforestation' => 'What is Reforestation?',
        'reforestation_definition' => 'Reforestation is defined as the reestablishment of forests in areas that were previously covered by forest vegetation, through planting, seeding, or assisted natural regeneration.',
        'importance_title' => 'Importance of Reforestation',
        'importance_text' => 'Forests cover approximately 31% of the global land surface and store about 861 ± 66 Pg of carbon, being crucial for global climate regulation.',
        
        // Disciplines
        'disciplines_title' => 'Disciplines Related to Reforestation',
        'mathematics_title' => 'Mathematics',
        'mathematics_desc' => 'Planting density calculations, carbon estimations, and growth models',
        'humanities_title' => 'Humanities',
        'humanities_desc' => 'Community participation, traditional knowledge, and cultural aspects',
        'programming_title' => 'Programming',
        'programming_desc' => 'Geographic information systems and databases for monitoring',
        'ecosystems_title' => 'Ecosystem Studies',
        'ecosystems_desc' => 'Ecological succession, biodiversity, and ecosystem services',
        'language_title' => 'Language and Communication',
        'language_desc' => 'Scientific documentation, community communication, and environmental education',
        
        // CBTA 35
        'cbta_title' => 'CBTA 35 Reforestation Project',
        'cbta_intro' => 'Step-by-step plan to reforest an area of the Agricultural Technical High School No. 35 grounds',
        
        // Calculator
        'calculator_title' => 'Reforestation Calculator',
        'calculator_subtitle' => 'Calculate how many trees you need and their efficiency',
        'calc_area' => 'Area to reforest',
        'calc_area_unit' => 'hectares',
        'calc_tree_type' => 'Tree type',
        'calc_soil_type' => 'Soil type',
        'calc_button' => 'Calculate',
        'calc_results' => 'Results',
        'calc_tree_count' => 'Number of trees',
        'calc_spacing' => 'Recommended spacing',
        'calc_efficiency' => 'Efficiency in this soil',
        'calc_carbon' => 'Estimated carbon capture',
        'calc_carbon_unit' => 'tons CO₂/year',
        
        // Tree types
        'tree_pine' => 'Pine',
        'tree_oak' => 'Oak',
        'tree_cedar' => 'Cedar',
        'tree_mesquite' => 'Mesquite',
        'tree_ahuehuete' => 'Bald Cypress',
        
        // Soil types
        'soil_clay' => 'Clay',
        'soil_sandy' => 'Sandy',
        'soil_loamy' => 'Loam',
        'soil_rocky' => 'Rocky',
        'soil_humid' => 'Humid',
        
        // Authentication
        'login_title' => 'Login',
        'register_title' => 'Create Account',
        'username' => 'Username',
        'password' => 'Password',
        'confirm_password' => 'Confirm Password',
        'email' => 'Email',
        'full_name' => 'Full Name',
        'login_button' => 'Login',
        'register_button' => 'Register',
        'have_account' => 'Already have an account?',
        'no_account' => "Don't have an account?",
        'login_here' => 'Login here',
        'register_here' => 'Register here',
        
        // Messages
        'login_success' => 'Successfully logged in',
        'login_error' => 'Incorrect username or password',
        'register_success' => 'Account created successfully',
        'register_error' => 'Error creating account',
        'password_mismatch' => 'Passwords do not match',
        'user_exists' => 'Username already exists',
        'logout_success' => 'Successfully logged out',
        
        // Footer
        'footer_text' => 'School Reforestation Project',
        'footer_year' => '2025',
        
        // Others
        'read_more' => 'Read more',
        'back' => 'Back',
        'submit' => 'Submit',
        'cancel' => 'Cancel',
    ]
];

/**
 * Función para obtener traducciones
 */
function t($key) {
    global $translations;
    $lang = $_SESSION['lang'] ?? 'es';
    return $translations[$lang][$key] ?? $key;
}

/**
 * Función para cambiar idioma
 */
function setLanguage($lang) {
    if (in_array($lang, ['es', 'en'])) {
        $_SESSION['lang'] = $lang;
        return true;
    }
    return false;
}

// Procesar cambio de idioma si se solicita
if (isset($_GET['lang'])) {
    setLanguage($_GET['lang']);
    // Redireccionar a la misma página sin el parámetro lang
    $redirect = strtok($_SERVER['REQUEST_URI'], '?');
    header("Location: $redirect");
    exit;
}

?>
